<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> 
    <link rel="stylesheet" href="styles.css">  
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMmi6kGAOGfMzK4CBvNiVBB7T6OjGbsU4&libraries=places&v=weekly&language=en" ></script>   
    <style>
        .day-top-buttons {
            margin: 2px 0; 
            display: flex;
            justify-content: space-between;
        }

        .day-top-buttons .view-hourly{
            height: 30px; 
        }

        .day-top-buttons .day-time-sections {
            width: 100px; 
        }
    </style>   
</head>
<body>
    <div class="section reset-justify">
        <label for="user-email">Email:</label>
        <input type="text" placeholder="user@mail.com" class="user-email">
        <!-- <label for="download-csv">Download CSV</label> -->
        <!-- <input type="button" value="Download Current User CSV" class="get-resource-btn download-user-csv"> 
        <input type="button" value="Download All Users CSV" class="get-resource-btn download-all-csv">   
        <input type="button" value="Get Printed Plan" class="get-resource-btn printed-plan">  
        
        <button class="get-resource-btn" disabled onclick="authenticate().then(loadClient)">Authorize & Load</button>   -->
    </div>
    <div class="section header">
        <div class="header--left">
            <input type="button" value="+ Day" class="add-day">
            <select name="days" id="days-select">
                <option value="*">All</option> 
                <option value="day-1">Day 1</option> 
            </select>
        </div>
        <input type="text" class="user-input" placeholder="Enter Address">
    </div>
    <!-- <div class="section">
        <input type="button" value="View Hourly" class="get-resource-btn view-hourly">
    </div> -->
    <div class="section"> 
        <div class="side-bar">
            <div class="day-events">
                <div class="day-event day-1-event"> 
                    <div class="day-head">
                        <span class="header-text">Day 1</span>  
                        <img class="remove-day" src="Imgs/x-24.png" alt="">
                    </div>
                    <div class="day-top-buttons">
                        <input class="sort-events" type="button" value="Sort">
                        <div>
                            <input class="view-hourly" type="button" value="View Hourly">
                            <select name="day-time-sections" id="day-time-sections" class="day-time-sections">
                                <option value="morning">Morning</option>
                                <option value="afternoon">Afternoon</option>
                                <option value="evening">Evening</option>
                            </select>
                        </div>
                    </div>

                    <div class="single-event" id="event-1" draggable="true">
                        <!-- <div class="day-text"></div> -->
                        <input type="text" class="day-text"> 
                        <img class="remove-marker" src="Imgs/x.png" alt="">
                        <img class="get-directions" src="Imgs/directions.png" alt=""> 
                    </div>  
                    <div class="all-events"></div> 
                    <div class="modal hide"> 
                        <div class="modal-content">
                            <img src="Imgs/x.png" alt="close modal" class="close-modal">
                        </div>
                    </div>
                </div>
            </div> 
            <div class="hour-events hide"> 
                <select name="day-time-sections" id="day-time-sections" class="day-time-sections">
                    <option value="morning">Morning</option>
                    <option value="afternoon">Afternoon</option>
                    <option value="evening">Evening</option>
                </select>
                <select name="day-times" id="day-times" class="day-times">
                    <option value="8 a.m">8 a.m</option>
                    <option value="9 a.m">9 a.m</option>
                    <option value="10 a.m">10 a.m</option>
                    <option value="11 a.m">11 a.m</option>
                </select>
                <div class="day-time morning">

                    <div class="day-event day-1-event"> 

                        <div class="day-head">
                            <span class="header-text">Day 1</span>  
                            <img class="remove-day" src="Imgs/x-24.png" alt="">
                        </div>

                        <!-- <input class="sort-events" type="button" value="Sort"> -->

                        <div class="time-block">
                            <div class="day-head time-text" style="margin-top:20px;">8 a.m</div>

                            <div class="single-event hide" id="event-1" draggable="true">
                                <!-- <div class="day-text"></div> -->
                                <input type="text" class="day-text"> 
                                <img class="remove-marker" src="Imgs/x.png" alt="">
                                <img class="get-directions" src="Imgs/directions.png" alt=""> 
                            </div>  
                            <div class="all-events"></div> 
                        </div>

                        <!-- <div class="modal hide"> 
                            <div class="modal-content">
                                <img src="Imgs/x.png" alt="close modal" class="close-modal">
                            </div>
                        </div> -->
                        
                    </div>

                </div>

                <div class="day-time afternoon hide">

                    <div class="day-event day-1-event"> 

                        <div class="day-head">
                            <span class="header-text">Day 1</span>  
                            <img class="remove-day" src="Imgs/x-24.png" alt="">
                        </div>

                        <!-- <input class="sort-events" type="button" value="Sort"> -->

                        <div class="time-block">
                            <div class="day-head time-text" style="margin-top:20px;">12 p.m</div>

                            <div class="single-event" id="event-1" draggable="true">
                                <!-- <div class="day-text"></div> -->
                                <input type="text" class="day-text"> 
                                <img class="remove-marker" src="Imgs/x.png" alt="">
                                <img class="get-directions" src="Imgs/directions.png" alt=""> 
                            </div>  
                            <div class="all-events"></div> 
                        </div>

                        <!-- <div class="modal hide"> 
                            <div class="modal-content">
                                <img src="Imgs/x.png" alt="close modal" class="close-modal">
                            </div>
                        </div> -->
                        
                    </div>

                </div>

                <div class="day-time evening hide">

                    <div class="day-event day-1-event"> 

                        <div class="day-head">
                            <span class="header-text">Day 1</span>  
                            <img class="remove-day" src="Imgs/x-24.png" alt="">
                        </div>

                        <!-- <input class="sort-events" type="button" value="Sort"> -->

                        <div class="time-block">
                            <div class="day-head time-text" style="margin-top:20px;">6 p.m</div>

                            <div class="single-event" id="event-1" draggable="true">
                                <!-- <div class="day-text"></div> -->
                                <input type="text" class="day-text"> 
                                <img class="remove-marker" src="Imgs/x.png" alt="">
                                <img class="get-directions" src="Imgs/directions.png" alt=""> 
                            </div>  
                            <div class="all-events"></div> 
                        </div>

                        <!-- <div class="modal hide"> 
                            <div class="modal-content">
                                <img src="Imgs/x.png" alt="close modal" class="close-modal">
                            </div>
                        </div> -->
                        
                    </div>

                </div>
                
            </div>
        </div> 
        <div id="map"></div>
    </div>
    <div class="section">
        <div class="khonsu-data khonsu-notes">
            <label for="knotes">Khonsu Notes</label>
            <textarea name="knotes" id="knotes" class="knotes" cols="30" rows="10"></textarea>
            <input type="button" value="Submit" class="save-khonsu-data save-khonsu-notes">
        </div>
        <div class="khonsu-data reservations">
            <label for="day-text">Reservations</label>
            <div class="reserves">
                <div class="reserve hide">
                    <input type="text" class="reserve-time"><input type="text" class="reserve-info">
                    <img class="remove-reservation" src="Imgs/x.png" alt=""> 
                </div>
            </div>
            <input type="button" value="Add Reservation" class="add-reservation">
            <input type="button" value="Submit" class="save-khonsu-data save-reservations">
        </div>
        <div class="khonsu-data map-url">
            <label for="map-url-link">Map Url</label>
            <div class="map-url-link">
                <input type="text">
            </div>
            <input type="button" value="Submit" class="save-khonsu-data save-map-url">
        </div>
        <div class="khonsu-data map-url-qrcode">
            <label for="map-url-qr">QR Code</label>
            <div class="map-url-qr"></div>
            <!-- <input type="button" value="Submit" class="save-khonsu-data save-qrcode"> -->
            <div><i>Auto-generated from Map URL</i></div> 
        </div>
    </div>
    <a href="https://www.flaticon.com/free-icons/new-tab" title="new-tab icons">Get direction icons created by Prosymbols Premium - Flaticon</a>
    <br><a target="_blank" href="https://icons8.com">Icon by Icons8</a>

    <!-- <script>
        (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
          key: "AIzaSyCMmi6kGAOGfMzK4CBvNiVBB7T6OjGbsU4",
          libraries: "places",
          v: "weekly",
          // Use the 'v' parameter to indicate the version to use (weekly, beta, alpha, etc.).
          // Add other bootstrap parameters as needed, using camel case.
        });
      </script> -->
       
      
    <script src="https://apis.google.com/js/api.js"></script>  
    <script src="https://unpkg.com/@bitjson/qr-code@1.0.2/dist/qr-code.js"></script>
    <script type="module" src="script.js"></script>  
    <!-- <script>
        const CLIENT_ID = '424207365074-g5444q1mhm5n5d04pu563ofqjup3j5e2.apps.googleusercontent.com'; 
        const API_KEY = 'AIzaSyCMmi6kGAOGfMzK4CBvNiVBB7T6OjGbsU4'; 

        function authenticate() {
            return gapi.auth2.getAuthInstance()
            .signIn({scope: "https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets"})
            .then(function() { console.log("Sign-in successful"); },
              function(err) { console.error("Error signing in", err); });
        }

        function loadClient() {
            gapi.client.setApiKey(API_KEY);
            return gapi.client.load("https://sheets.googleapis.com/$discovery/rest?version=v4")
            .then(function() { console.log("GAPI client loaded for API"); },
              function(err) { console.error("Error loading GAPI client for API", err); });
        }

        // Make sure the client is loaded and sign-in is complete before calling this method.
        function execute() {
            return gapi.client.sheets.spreadsheets.values.append({
                "spreadsheetId": "1Zj1ae5faA8h7UwHvtYVtKoiA_G3LtQcuTOFV1Evq4BQ",
                "range": "A1:E1",
                "includeValuesInResponse": true,
                "insertDataOption": "INSERT_ROWS",
                "responseDateTimeRenderOption": "FORMATTED_STRING",
                "responseValueRenderOption": "UNFORMATTED_VALUE",
                "valueInputOption": "RAW",
                "resource": {
                    "values": [
                        [
                            "Yes",
                            "No",
                            "Maybe",
                            "I",
                            "Don't",
                            "Know"
                        ]
                    ]
                }
            })
            .then(function(response) {
                // Handle the results here (response.result has the parsed body).
                console.log("Response", response);
              },
              function(err) { console.error("Execute error", err); 
            });
        }

        gapi.load("client:auth2", function() {
            gapi.auth2.init({client_id: CLIENT_ID});
        });
    </script> -->
</body> 
</html>   